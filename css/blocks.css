.code-piece { display: inline-block; position : absolute; padding:2px; margin: 5px;
    color:white; cursor:pointer; z-index: 4; border: none; height: auto; }

.code-piece.movement.mouseover.dragging:not(.acting) {
    box-shadow: 0px 0px 5px 0px dodgerblue, 5px 5px 3px 0px dimgray;
}

.code-piece.movement.dragging:not(.acting) {
    box-shadow: 0px 0px 5px 0px dodgerblue, 5px 5px 3px 0px dimgray;
}

.code-piece.movement.mouseover:not(.acting) {
    box-shadow: 0px 0px 5px 0px dodgerblue;
}

.code-piece.operator.dragging:not(.acting) {
    box-shadow: 0px 0px 5px 0px dodgerblue, 5px 5px 3px 0px dimgray;
}

.code-piece.operator.mouseover.dragging:not(.acting) {
    box-shadow: 0px 0px 5px 0px dodgerblue, 5px 5px 3px 0px dimgray;
}

.code-piece.operator.mouseover:not(.acting) {
    box-shadow: 0px 0px 5px 0px greenyellow;
}

.code .code-piece.acting { box-shadow: 0px 0px 10px 2px gold; }
.code .code-piece.acting[next-piece-id] {
    box-shadow:
            -5px -5px 10px -3px gold,
            7px 3px 5px -5px gold,
            -7px 3px 5px -5px gold,
            5px -5px 10px -3px gold;
}
.code .code-piece.acting[prev-piece-id] {
    box-shadow:
            -5px 5px 10px -3px gold,
            7px -3px 5px -5px gold,
            -7px -3px 5px -5px gold,
            5px 5px 10px -3px gold;
}
.code .code-piece.acting[prev-piece-id][next-piece-id] {
    box-shadow:
            5px 0px 10px -3px gold,
            -5px 0px 10px -3px gold;
}


.code .code-piece { z-index: 2; }
.code .code-piece.magneted-bottom {
    box-shadow: -10px 15px 10px -10px gold, 10px 15px 10px -10px gold; z-index: 3;
}
.code .code-piece.draging { z-index: 5; }

.code .code-piece { position: relative; }
.tools .code-piece { position: relative; margin-right: auto; }


.code-piece.operator { background-color:forestgreen; }
.code-piece.sound { background-color:rebeccapurple; }
.code-piece.movement { background-color: #003eff; }
.code-piece.event { background-color: darkgoldenrod; margin-right: 30px; }
.code-piece.control { background-color: darkorange; }


/*.code-piece.bracketed { width: 150px; padding: 0px; cursor: default; }*/
.bracket { position: relative; width: 110px; height: 21.6px; }
.open.bracket { padding-left: 5px; }
/*.line.bracket { height: 21.6px; max-width: 10px; }*/
.close.bracket { padding-right: 5px; left:0px; top: 0px; height: 21.6px; text-align: right; font-size: 100%; }


.code .space.in-space {
    box-shadow: 0 0 0 1px white, 0 0 0 2px silver; z-index: 3;
}

.code-piece.element { vertical-align: middle; }
.code-piece.element * { text-align: left; }
.element { box-sizing: border-box; left: auto; right: auto; width: auto; vertical-align: top; }
.element.plus { }
.element.space { display: inline-block; }
.element.space .element { margin: 0px; }
/*.element.space { display: inline; background-color:gray; height: 10px; width: 30px; box-sizing: border-box; }*/
.default.element { background-color:white; margin:0; border:0; padding:0 2px; color:black; width:21px; white-space: nowrap; font-size: larger; }

#virtual_dom { margin:0; border:0; padding:0; white-space: nowrap; font-size: larger; }

.code-piece .element.space { border: 1px transparent outset;
    margin: -0.5px; }
.element.space .element:not(.default) { border: 1px transparent outset;
    margin: -0.5px; }
.element.space .code-piece.element { border: 1px rgba(255, 255, 255, .5) outset;
    margin: -0.5px; }

.element.space>input { vertical-align: middle; }

.element.space { width: 23px; height: 27px; vertical-align: middle; }
.operator[calc=plus] { width: 66px; height: 30px; }
.operator[calc=minus] { width: 66px; height: 30px; }
.movement[action=move] { width: 134px; }
.movement[action=right-rotate] { width: 172px; }
.movement[action=left-rotate] { width: 156px; }
.movement[action=point-in-direction] { width: 124px; }
.movement[action=rach-gu] { width: 180px; }
.movement[action=x-position] { width: 44px; }
.movement[action=y-position] { width: 44px; }
.movement[action=comhair] { width: 36px; }
.event[action=start] { width: 90px; }
.control[action=endless-loop] { width: 117px; }
.control[action=looping] { width: 117px; }
.control[action=sleep] { width: 117px; }